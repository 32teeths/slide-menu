"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}();!function(t){var n="slideMenu",i={submenuIndicator:""},e=function(){function n(t){_classCallCheck(this,n),this.options=t,this.menu=t.elem,this.anchors=this.menu.find("a"),this.slider=this.menu.find(".slider:first"),this._isOpen=!1,this._isAnimating=!1,this._setupEventHandlers(),this._setupSubmenus()}return _createClass(n,[{key:"toggle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=void 0;return null===t?void(this._isOpen?this.close():this.open()):(t?(n=0,this._isOpen=!0):(n=this.menu.width(),this._isOpen=!1),void this._triggerAnimation(this.menu,n))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}},{key:"back",value:function(){this._navigate(null,-1)}},{key:"_setupEventHandlers",value:function(){var n=this;this.anchors.click(function(i){n._navigate(t(i.target))}),t(this.menu.add(this.slider)).on("transitionend msTransitionEnd",function(){n._isAnimating=!1})}},{key:"_navigate",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?1:arguments[1];if(!this._isAnimating){var i=void 0,e=void 0,s=void 0;if(i=Number(this.menu.data("level"))||0,e=(i+n)*-this.menu.width(),n>0){if(!t.next("ul").length)return;t.next("ul").addClass("active").show()}else{if(0===i)return;s="ul "+".active ".repeat(i),this.menu.find(s).removeClass("active").fadeOut()}this.menu.data("level",i+n),this._triggerAnimation(this.slider,e)}}},{key:"_triggerAnimation",value:function(t,n){t.css("transform","translateX("+n+"px)"),this._isAnimating=!0}},{key:"_setupSubmenus",value:function(){var n=this;this.options.submenuIndicator&&this.anchors.each(function(i,e){e=t(e),e.next("ul").length&&(e.text(e.text()+" "+n.options.submenuIndicator),e.click(function(t){t.preventDefault()}))})}}]),n}();t("body").on("click",".slide-menu-control",function(){var i=t("#"+t(this).data("target"));if(i.length){var e=i.data(n),s=t(this).data("action");"function"==typeof e[s]&&e[s]()}}),t.fn[n]=function(s){s=t.extend(i,s),s.elem=t(this);var a=new e(s);return t(this).data(n,a),a}}(jQuery);